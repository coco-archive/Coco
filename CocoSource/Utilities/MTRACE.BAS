1 PCLEAR 4:CLEAR 500,&H5FF0:DIM M(32)
5 JMS F:POKE 150,7
10 LOADM"DEBUG"
20 DV=0
30 POKE &HFFA3,1
40 BL=PEEK(&H6000):P=PEEK(&H6001)*256+PEEK(&H6002)
45 POKE &HFFA3,BL
46 FORX=P TOP+31:M(X-P)=PEEK(X):NEXT:MO=0
47 P=P+24:B=INT(P/256):C=P-B*256:POKE &HE00,B:POKE &HE01,C:EXEC:P=P-24:A=&HE04
48 PRINT
50 PRINT#DV,"D=";:GOSUB 1000:PRINT#DV," X=";:GOSUB 1000:PRINT#DV," Y=";:GOSUB 1000:PRINT#DV," U=";:GOSUB 1000:PRINT#DV," CC=";:GOSUB 2000:PRINT#DV," PC=";:GOSUB 1000:MO=MO+5::PRINT#DV," BLOCKS ";:GOSUB 2000:GOSUB 2000:GOSUB 2000:GOSUB 2000
60 GOSUB 2000:GOSUB 2000:GOSUB 2000:GOSUB 2000
70 X=M(2)*256+M(3):Y=M(4)*256+M(5):U=M(6)*256+M(7)
71 A=M(0):B=M(1)
100 P=P-32:IF P<&H6000 THEN P=&H8000-32:BL=BL-1:IF BL=1 THEN BL=&H1F
110 GOTO 45
1000 A$=HEX$(M(MO)):B$=HEX$(M(MO+1)):MO=MO+2:IF LEN(A$)=1 THEN A$="0"+A$
1010 IF LEN(B$)=1 THEN B$="0"+B$
1020 PRINT#DV,A$;B$;" ";:RETURN
2000 A$=HEX$(M(MO)):MO=MO+1:IF LEN(A$)=1 THEN PRINT#DV,"0";A$;" "; :ELSE PRINT#DV,A$;" ";
2010 RETURN
5000 A$=INKEY$
5010 IF INKEY$="" THEN 5010 :ELSE RETURN
