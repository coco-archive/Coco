5 JMS F
6 WIDTH 80
10 KILL"ASSEM.BIN:3"
100 CLS:PRINT "WORLD'S BEST ASSEMBLER": PRINT "(C) 1982 BY THE MICRO WORKS"
110 GOTO 130 :'THIS IS NECESSARY
120 GOTO 140
130 PCLEAR 6:GOTO 120
140 F=(PEEK(188)-14)*256
150 IF F<0 THEN F=0
160 LOADM"AS$/BIN",F
170 A$="THE MICRO WORKS"+CHR$(13)
180 V=VARPTR(A$):V1=INT(V/256)
190 POKE &HE04+F,V1
200 POKE &HE05+F,V-V1*256
210 R$="0"+CHR$(66)+CHR$(1)+CHR$(32)+"R"+CHR$(0)
220 I$="ASSEM.TXT:3"
230 O$="ASSEM.BIN:3"
235 IF O$="-" THEN O$=I$:PRINT "ASSEMBLE ";O$
240 I$=I$+CHR$(0)+O$
250 O$="8C"
255 HSCREEN 2:POKE &HFF9D,&HE0:POKE &HFF9E,0:POKE &HFF99,126
260 P$=I$+CHR$(0)+O$+CHR$(0)+R$
270 DEF USR1=&H0E00+F
280 E1=USR1(P$)
290 PRINT"ASSEMBLY ";:IF E1<>0 THEN PRINT"ABORTED" :ELSE PRINT"DONE":KILL"ASSEM.BIN":COPY"ASSEM.BIN:3" TO "ASSEM.BIN"
300 END
